// OpenLayers 3. See http://openlayers.org/
// License: https://raw.githubusercontent.com/openlayers/ol3/master/LICENSE.md
// Version: v3.10.1-258-g6e78e96

(function (root, factory) {
  if (typeof exports === "object") {
    module.exports = factory();
  } else if (typeof define === "function" && define.amd) {
    define([], factory);
  } else {
    root.ol = factory();
  }
}(this, function () {
  var OPENLAYERS = {};
  var l,n=this;function aa(a,b,c){a=a.split(".");c=c||n;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ca(a){return"array"==ba(a)}function r(a){return"string"==typeof a}function da(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;
function t(a,b){function c(){}c.prototype=b.prototype;a.Qa=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Xa=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var ga=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ha(a,b){return a<b?-1:a>b?1:0};var ia=Array.prototype;function ja(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],e=d,f=ba(e);if("array"==f||"object"==f&&"number"==typeof e.length){e=a.length||0;f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};var u;a:{var ka=n.navigator;if(ka){var la=ka.userAgent;if(la){u=la;break a}}u=""};function ma(a){var b=0,c;for(c in a)b++;return b}function na(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function oa(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return c}function pa(a){var b={},c;for(c in a)b[c]=a[c];return b}function qa(a){var b=ba(a);if("object"==b||"array"==b){if("function"==ba(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=qa(a[c]);return b}return a}var ra="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function sa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ra.length;f++)c=ra[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var ta=-1!=u.indexOf("Opera")||-1!=u.indexOf("OPR"),v=-1!=u.indexOf("Trident")||-1!=u.indexOf("MSIE"),ua=-1!=u.indexOf("Edge"),va=-1!=u.indexOf("Gecko")&&!(-1!=u.toLowerCase().indexOf("webkit")&&-1==u.indexOf("Edge"))&&!(-1!=u.indexOf("Trident")||-1!=u.indexOf("MSIE"))&&-1==u.indexOf("Edge"),wa=-1!=u.toLowerCase().indexOf("webkit")&&-1==u.indexOf("Edge");
function xa(){var a=u;if(va)return/rv\:([^\);]+)(\)|;)/.exec(a);if(ua)return/Edge\/([\d\.]+)/.exec(a);if(v)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(wa)return/WebKit\/(\S+)/.exec(a)}function ya(){var a=n.document;return a?a.documentMode:void 0}var za=function(){if(ta&&n.opera){var a;var b=n.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=xa())&&(a=b?b[1]:"");return v&&(b=ya(),b>parseFloat(a))?String(b):a}(),Aa={};
function w(a){var b;if(!(b=Aa[a])){b=0;for(var c=ga(String(za)).split("."),d=ga(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var p=k.exec(g)||["","",""],q=m.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=ha(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||ha(0==p[2].length,0==q[2].length)||ha(p[2],q[2])}while(0==b)}b=Aa[a]=0<=b}return b}
var Ba=n.document,Ca=Ba&&v?ya()||("CSS1Compat"==Ba.compatMode?parseInt(za,10):5):void 0;var Da=!v||9<=Ca,Ea=v&&!w("9");!wa||w("528");va&&w("1.9b")||v&&w("8")||ta&&w("9.5")||wa&&w("528");va&&!w("8")||v&&w("9");function Fa(){0!=Ga&&(this[ea]||(this[ea]=++fa));this.H=this.H;this.Ta=this.Ta}var Ga=0;Fa.prototype.H=!1;function x(a,b){this.type=a;this.a=this.target=b}x.prototype.b=function(){};function Ha(a){Ha[" "](a);return a}Ha[" "]=function(){};function Ia(a,b){x.call(this,a?a.type:"");this.a=this.target=null;this.offsetY=this.offsetX=0;this.f=this.state=null;if(a){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;var d=a.relatedTarget;if(d&&va)try{Ha(d.nodeName)}catch(e){}null===c&&(this.offsetX=wa||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=wa||void 0!==a.offsetY?a.offsetY:a.layerY);this.state=a.state;this.f=a;a.defaultPrevented&&this.b()}}t(Ia,x);
Ia.prototype.b=function(){Ia.Qa.b.call(this);var a=this.f;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ea)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ja="closure_listenable_"+(1E6*Math.random()|0),Ka=0;function La(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.B=!!d;this.C=e;this.key=++Ka;this.u=this.A=!1}function Ma(a){a.u=!0;a.listener=null;a.a=null;a.src=null;a.C=null};function Na(a){this.src=a;this.a={};this.b=0}Na.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=Oa(a,b,d,e);-1<g?(b=a[g],c||(b.A=!1)):(b=new La(b,this.src,f,!!d,e),b.A=c,a.push(b));return b};function Pa(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=ia.indexOf.call(d,b,void 0),f;(f=0<=e)&&ia.splice.call(d,e,1);f&&(Ma(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}
function Oa(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.u&&f.listener==b&&f.B==!!c&&f.C==d)return e}return-1};var Qa="closure_lm_"+(1E6*Math.random()|0),Ra={},Sa=0;
function Ta(a,b,c,d,e){if(ca(b)){for(var f=0;f<b.length;f++)Ta(a,b[f],c,d,e);return null}c=Ua(c);if(a&&a[Ja])a=a.v.add(String(b),c,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,g=Va(a);g||(a[Qa]=g=new Na(a));c=g.add(b,c,!1,d,e);if(!c.a){d=Wa();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,f);else if(a.attachEvent)a.attachEvent(Xa(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Sa++}a=c}return a}
function Wa(){var a=Ya,b=Da?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Za(a,b,c,d,e){if(ca(b))for(var f=0;f<b.length;f++)Za(a,b[f],c,d,e);else(c=Ua(c),a&&a[Ja])?(a=a.v,b=String(b).toString(),b in a.a&&(f=a.a[b],c=Oa(f,c,d,e),-1<c&&(Ma(f[c]),ia.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=Va(a))&&(b=a.a[b.toString()],a=-1,b&&(a=Oa(b,c,!!d,e)),(c=-1<a?b[a]:null)&&$a(c))}
function $a(a){if("number"!=typeof a&&a&&!a.u){var b=a.src;if(b&&b[Ja])Pa(b.v,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.B):b.detachEvent&&b.detachEvent(Xa(c),d);Sa--;(c=Va(b))?(Pa(c,a),0==c.b&&(c.src=null,b[Qa]=null)):Ma(a)}}}function Xa(a){return a in Ra?Ra[a]:Ra[a]="on"+a}function ab(a,b,c,d){var e=!0;if(a=Va(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.B==c&&!f.u&&(f=bb(f,d),e=e&&!1!==f)}return e}
function bb(a,b){var c=a.listener,d=a.C||a.src;a.A&&$a(a);return c.call(d,b)}
function Ya(a,b){if(a.u)return!0;if(!Da){var c;if(!(c=b))a:{c=["window","event"];for(var d=n,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Ia(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.a;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;0<=g;g--){c.a=e[g];var h=ab(e[g],f,!0,c),d=d&&h}for(g=0;g<e.length;g++)c.a=e[g],h=ab(e[g],f,!1,c),
d=d&&h}return d}return bb(a,new Ia(b,this))}function Va(a){a=a[Qa];return a instanceof Na?a:null}var cb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ua(a){if("function"==ba(a))return a;a[cb]||(a[cb]=function(b){return a.handleEvent(b)});return a[cb]};function db(){Fa.call(this);this.v=new Na(this);this.Ra=this}t(db,Fa);db.prototype[Ja]=!0;db.prototype.removeEventListener=function(a,b,c,d){Za(this,a,b,c,d)};function eb(a,b){var c=a.Ra,d=b,e=d.type||d;if(r(d))d=new x(d,c);else if(d instanceof x)d.target=d.target||c;else{var f=d,d=new x(e,c);sa(d,f)}c=d.a=c;fb(c,e,!0,d);fb(c,e,!1,d)}
function fb(a,b,c,d){if(b=a.v.a[String(b)]){b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.u&&g.B==c){var h=g.listener,k=g.C||g.src;g.A&&Pa(a.v,g);e=!1!==h.call(k,d)&&e}}}};function gb(){db.call(this);this.o=0}t(gb,db);function y(a){++a.o;eb(a,"change")};function hb(a,b,c){x.call(this,a);this.key=b;this.oldValue=c}t(hb,x);function z(a){gb.call(this);this[ea]||(this[ea]=++fa);this.l={};void 0!==a&&ib(this,a)}t(z,gb);var jb={};function kb(a){return jb.hasOwnProperty(a)?jb[a]:jb[a]="change:"+a}z.prototype.get=function(a){var b;this.l.hasOwnProperty(a)&&(b=this.l[a]);return b};function lb(a){var b={},c;for(c in a.l)b[c]=a.l[c];return b}function mb(a,b,c){var d=a.l[b];a.l[b]=c;c=kb(b);eb(a,new hb(c,b,d));eb(a,new hb("propertychange",b,d))}
function ib(a,b){for(var c in b)mb(a,c,b[c])};function A(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}A.prototype.a=4;A.prototype.b=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};A.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(A.BYTES_PER_ELEMENT=4,A.prototype.BYTES_PER_ELEMENT=A.prototype.a,A.prototype.set=A.prototype.b,A.prototype.toString=A.prototype.toString,aa("Float32Array",A,void 0));function B(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}B.prototype.a=8;B.prototype.b=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};B.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{B.BYTES_PER_ELEMENT=8}catch(a){}B.prototype.BYTES_PER_ELEMENT=B.prototype.a;B.prototype.set=B.prototype.b;B.prototype.toString=B.prototype.toString;aa("Float64Array",B,void 0)};new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);function nb(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function ob(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);var d=[c[0],c[2],c[4],c[6]],e=[c[1],c[3],c[5],c[7]],c=Math.min.apply(null,d),f=Math.min.apply(null,e),d=Math.max.apply(null,d),e=Math.max.apply(null,e);return nb(c,f,d,e,void 0)};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function pb(a){this.radius=a}function qb(a,b){var c=a[1]*Math.PI/180,d=b[1]*Math.PI/180,e=(d-c)/2,f=(b[0]-a[0])*Math.PI/180/2,c=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);return 2*rb.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}
pb.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var rb=new pb(6370997);var C={};C.degrees=2*Math.PI*rb.radius/360;C.ft=.3048;C.m=1;C["us-ft"]=1200/3937;
function sb(a){this.a=a.code;this.b=a.units;this.f=void 0!==a.axisOrientation?a.axisOrientation:"enu";this.g=void 0!==a.getPointResolution?a.getPointResolution:this.c;var b=tb,c=a.code;if("function"==typeof proj4&&void 0===b[c]){var d=proj4.defs(c);if(void 0!==d){void 0!==d.axis&&void 0===a.axisOrientation&&(this.f=d.axis);void 0===a.units&&(a=d.units,void 0===d.to_meter||void 0!==a&&void 0!==C[a]||(a=d.to_meter.toString(),C[a]=d.to_meter),this.b=a);var e,f;for(e in b)if(b=proj4.defs(e),void 0!==
b)if(a=D(e),b===d)ub([a,this]);else{f=proj4(e,c);b=f.forward;f=f.inverse;a=D(a);var g=D(this);vb(a,g,wb(b));vb(g,a,wb(f))}}}}function xb(a){return a.f}sb.prototype.c=function(a,b){if("degrees"==this.b)return a;var c=yb(this,D("EPSG:4326")),d=[b[0]-a/2,b[1],b[0]+a/2,b[1],b[0],b[1]-a/2,b[0],b[1]+a/2],d=c(d,d,2),c=(qb(d.slice(0,2),d.slice(2,4))+qb(d.slice(4,6),d.slice(6,8)))/2,d=C[this.b];void 0!==d&&(c/=d);return c};sb.prototype.getPointResolution=function(a,b){return this.g(a,b)};var tb={},zb={};
function ub(a){Ab(a);a.forEach(function(b){a.forEach(function(a){b!==a&&vb(b,a,Bb)})})}function Cb(a){tb[a.a]=a;vb(a,a,Bb)}function Ab(a){var b=[];a.forEach(function(a){b.push(Cb(a))})}function vb(a,b,c){a=a.a;b=b.a;a in zb||(zb[a]={});zb[a][b]=c}function wb(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2;c=void 0!==c?c:Array(e);var f,g;for(g=0;g<e;g+=d)for(f=a([b[g],b[g+1]]),c[g]=f[0],c[g+1]=f[1],f=d-1;2<=f;--f)c[g+f]=b[g+f];return c}}
function D(a){var b;a instanceof sb?b=a:r(a)?(b=tb[a],void 0===b&&"function"==typeof proj4&&void 0!==proj4.defs(a)&&(b=new sb({code:a}),Cb(b))):b=null;return b}function Db(a,b){var c=D(a),d=D(b);return yb(c,d)}function yb(a,b){var c=a.a,d=b.a,e;c in zb&&d in zb[c]&&(e=zb[c][d]);void 0===e&&(e=Eb);return e}function Eb(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}
function Bb(a,b){var c;if(void 0!==b){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c};function Fb(){z.call(this)}t(Fb,z);function E(){z.call(this);this.f="XY";this.b=2;this.a=null}t(E,Fb);function Gb(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}function F(a,b,c){a.b=Gb(b);a.f=b;a.a=c}function Hb(a,b,c,d){if(b)c=Gb(b);else{for(b=0;b<d;++b){if(0===c.length){a.f="XY";a.b=2;return}c=c[0]}c=c.length;b=2==c?"XY":3==c?"XYZ":4==c?"XYZM":void 0}a.f=b;a.b=c};function Ib(a,b,c,d){var e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],h;for(h=0;h<d;++h)a[b++]=g[h]}return b}function Jb(a,b,c,d,e){e=e?e:[];var f=0,g,h;g=0;for(h=c.length;g<h;++g)b=Ib(a,b,c[g],d),e[f++]=b;e.length=f;return e};function Kb(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e}function Lb(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g,h;g=0;for(h=c.length;g<h;++g){var k=c[g];e[f++]=Kb(a,b,k,d,e[f]);b=k}e.length=f;return e};function G(a,b){E.call(this);this.g(a,b)}t(G,E);G.prototype.clone=function(){var a=new G(null);F(a,this.f,this.a.slice());y(a);return a};G.prototype.h=function(){return Kb(this.a,0,this.a.length,this.b)};G.prototype.j=function(){return"LinearRing"};G.prototype.g=function(a,b){a?(Hb(this,b,a,1),this.a||(this.a=[]),this.a.length=Ib(this.a,0,a,this.b)):F(this,"XY",null);y(this)};function H(a,b){E.call(this);this.g(a,b)}t(H,E);H.prototype.clone=function(){var a=new H(null);F(a,this.f,this.a.slice());y(a);return a};H.prototype.h=function(){return this.a?this.a.slice():[]};H.prototype.j=function(){return"Point"};H.prototype.g=function(a,b){if(a){Hb(this,b,a,0);this.a||(this.a=[]);var c=this.a,d=this.a,e=0,f,g;f=0;for(g=a.length;f<g;++f)d[e++]=a[f];c.length=e}else F(this,"XY",null);y(this)};function Mb(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],k=a[b+1],e=e+(h-f)*(k+g),f=h,g=k;return 0<e}function Nb(a,b,c,d){var e=0;d=void 0!==d?d:!1;var f,g;f=0;for(g=b.length;f<g;++f){var h=b[f],e=Mb(a,e,h,c);if(0===f){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}
function Ob(a,b,c,d,e){e=void 0!==e?e:!1;var f,g;f=0;for(g=c.length;f<g;++f){var h=c[f],k=Mb(a,b,h,d);if(0===f?e&&k||!e&&!k:e&&!k||!e&&k)for(var k=a,m=h,p=d;b<m-p;){var q;for(q=0;q<p;++q){var K=k[b+q];k[b+q]=k[m-p+q];k[m-p+q]=K}b+=p;m-=p}b=h}return b}function Pb(a,b,c,d){var e=0,f,g;f=0;for(g=b.length;f<g;++f)e=Ob(a,e,b[f],c,d);return e};function I(a,b){E.call(this);this.c=[];this.w=-1;this.i=null;this.g(a,b)}t(I,E);I.prototype.clone=function(){var a=new I(null);Qb(a,this.f,this.a.slice(),this.c.slice());return a};I.prototype.h=function(a){var b;void 0!==a?(this.w!=this.o&&(b=this.a,Nb(b,this.c,this.b)?this.i=b:(this.i=b.slice(),this.i.length=Ob(this.i,0,this.c,this.b)),this.w=this.o),b=this.i.slice(),Ob(b,0,this.c,this.b,a)):b=this.a;return Lb(b,0,this.c,this.b)};I.prototype.j=function(){return"Polygon"};
I.prototype.g=function(a,b){if(a){Hb(this,b,a,2);this.a||(this.a=[]);var c=Jb(this.a,0,a,this.b,this.c);this.a.length=0===c.length?0:c[c.length-1];y(this)}else Qb(this,"XY",null,this.c)};function Qb(a,b,c,d){F(a,b,c);a.c=d;y(a)};!va&&!v||v&&9<=Ca||va&&w("1.9.1");v&&w("9");var Rb=["experimental-webgl","webgl","webkit-3d","moz-webgl"];(function(){if(!("HTMLCanvasElement"in n))return!1;try{return document.createElement("CANVAS").getContext("2d")?!0:!1}catch(a){return!1}})();if("WebGLRenderingContext"in n)try{a:{var Sb=document.createElement("CANVAS"),Tb={failIfMajorPerformanceCaveat:!0},Ub,Vb,Wb=Rb.length;for(Vb=0;Vb<Wb;++Vb)try{if(Ub=Sb.getContext(Rb[Vb],Tb))break a}catch(a){}}}catch(a){};function Xb(a){z.call(this);this.g=void 0;this.a="geometry";this.b=this.c=null;Ta(this,kb(this.a),this.f,!1,this);void 0!==a&&(a instanceof Fb||!a?mb(this,this.a,a):ib(this,a))}t(Xb,z);Xb.prototype.clone=function(){var a=new Xb(lb(this));Yb(a,this.a);var b=this.get(this.a);b&&(b=b.clone(),mb(a,a.a,b));if(b=this.c)(a.c=b)&&"function"!=ba(b)&&ca(b),y(a);return a};Xb.prototype.h=function(){y(this)};
Xb.prototype.f=function(){this.b&&($a(this.b),this.b=null);var a=this.get(this.a);a&&(this.b=Ta(a,"change",this.h,!1,this));y(this)};function Yb(a,b){Za(a,kb(a.a),a.f,!1,a);a.a=b;Ta(a,kb(a.a),a.f,!1,a);a.f()};function Zb(){if(!v)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}}var $b=v&&Zb();var ac;a:if(document.implementation&&document.implementation.createDocument)ac=document.implementation.createDocument("","",null);else{if($b){var J=new ActiveXObject("MSXML2.DOMDocument");if(J){J.resolveExternals=!1;J.validateOnParse=!1;try{J.setProperty("ProhibitDTD",!0),J.setProperty("MaxXMLSize",2048),J.setProperty("MaxElementDepth",256)}catch(a){}}if(J){ac=J;break a}}throw Error("Your browser does not support creating new documents");}var bc=ac;
function dc(a,b){return bc.createElementNS(a,b)}function ec(a,b){a||(a="");return bc.createNode(1,b,a)}var L=document.implementation&&document.implementation.createDocument?dc:ec;function fc(a){return gc(a,!1,[]).join("")}function gc(a,b,c){if(4==a.nodeType||3==a.nodeType)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)gc(a,b,c);return c}function hc(a){return a.localName}
function ic(a){var b=a.localName;return void 0!==b?b:a.baseName}var jc=v?ic:hc;function kc(a){return a instanceof Document}function lc(a){return da(a)&&9==a.nodeType}var mc=v?lc:kc;function nc(a){return a instanceof Node}function oc(a){return da(a)&&void 0!==a.nodeType}var pc=v?oc:nc;function qc(a,b,c){return a.getAttributeNS(b,c)||""}function rc(a,b,c){var d="";a=sc(a,b,c);void 0!==a&&(d=a.nodeValue);return d}var tc=document.implementation&&document.implementation.createDocument?qc:rc;
function uc(a,b,c){return a.getAttributeNodeNS(b,c)}function vc(a,b,c){var d=null;a=a.attributes;for(var e,f,g=0,h=a.length;g<h;++g)if(e=a[g],e.namespaceURI==b&&(f=e.prefix?e.prefix+":"+c:c,f==e.nodeName)){d=e;break}return d}var sc=document.implementation&&document.implementation.createDocument?uc:vc;function wc(a,b,c,d){a.setAttributeNS(b,c,d)}function xc(a,b,c,d){b?(b=a.ownerDocument.createNode(2,c,b),b.nodeValue=d,a.setAttributeNode(b)):a.setAttribute(c,d)}
var yc=document.implementation&&document.implementation.createDocument?wc:xc;function zc(a){return(new DOMParser).parseFromString(a,"application/xml")}function M(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&d[d.length-1].push(e)}}function N(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&(d[d.length-1]=e)}}function Ac(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}
function O(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e);e[e.length-1].node.appendChild(c)}}function P(a,b){return function(c,d,e){c=d[d.length-1].node;d=a;void 0===d&&(d=e);e=b;void 0===b&&(e=c.namespaceURI);return L(e,d)}}var Bc=P();function Cc(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName],void 0!==e&&e.call(d,b,c))}}function R(a,b,c,d,e){d.push(a);Cc(b,c,d,e);return d.pop()}
function S(a,b,c,d,e,f,g){e.push(a);a=(void 0!==f?f:d).length;for(var h,k,m=0;m<a;++m)h=d[m],void 0!==h&&(k=c.call(g,h,e,void 0!==f?f[m]:void 0),void 0!==k&&b[k.namespaceURI][k.localName].call(g,k,h,e));e.pop()};function Dc(){this.defaultDataProjection=null}function Ec(a,b,c){var d;c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.c(b),featureProjection:c.featureProjection});var e;d&&(e={featureProjection:d.featureProjection,dataProjection:d.dataProjection?d.dataProjection:a.defaultDataProjection,rightHanded:d.rightHanded});return e}
function Fc(a,b,c){var d=c?D(c.featureProjection):null;c=c?D(c.dataProjection):null;d&&c&&d!==c&&(d.a===c.a?d.b!==c.b:yb(d,c)!==Bb)?a instanceof Fb?(a=b?a.clone():a,b=Db(b?d:c,b?c:d),a.a&&(b(a.a,a.a,a.b),y(a)),b=a):(a=b?a.slice():a,b=Db(b?d:c,b?c:d),b=ob(a,b)):b=a;return b};function T(a,b){E.call(this);this.g(a,b)}t(T,E);T.prototype.clone=function(){var a=new T(null);F(a,this.f,this.a.slice());y(a);return a};T.prototype.h=function(){return Kb(this.a,0,this.a.length,this.b)};T.prototype.j=function(){return"LineString"};T.prototype.g=function(a,b){a?(Hb(this,b,a,1),this.a||(this.a=[]),this.a.length=Ib(this.a,0,a,this.b)):F(this,"XY",null);y(this)};function U(a,b){E.call(this);this.c=[];this.g(a,b)}t(U,E);U.prototype.clone=function(){var a=new U(null),b=this.c.slice();F(a,this.f,this.a.slice());a.c=b;y(a);return a};U.prototype.h=function(){return Lb(this.a,0,this.c,this.b)};U.prototype.j=function(){return"MultiLineString"};U.prototype.g=function(a,b){if(a){Hb(this,b,a,2);this.a||(this.a=[]);var c=Jb(this.a,0,a,this.b,this.c);this.a.length=0===c.length?0:c[c.length-1]}else c=this.c,F(this,"XY",null),this.c=c;y(this)};
function Gc(a,b){var c=a.f,d=[],e=[],f,g;f=0;for(g=b.length;f<g;++f){var h=b[f];0===f&&(c=h.f);ja(d,h.a);e.push(d.length)}F(a,c,d);a.c=e;y(a)};function Hc(a,b){E.call(this);this.g(a,b)}t(Hc,E);Hc.prototype.clone=function(){var a=new Hc(null);F(a,this.f,this.a.slice());y(a);return a};Hc.prototype.h=function(){return Kb(this.a,0,this.a.length,this.b)};Hc.prototype.j=function(){return"MultiPoint"};Hc.prototype.g=function(a,b){a?(Hb(this,b,a,1),this.a||(this.a=[]),this.a.length=Ib(this.a,0,a,this.b)):F(this,"XY",null);y(this)};function V(a,b){E.call(this);this.c=[];this.w=-1;this.i=null;this.g(a,b)}t(V,E);V.prototype.clone=function(){var a=new V(null),b=qa(this.c);F(a,this.f,this.a.slice());a.c=b;y(a);return a};
V.prototype.h=function(a){var b;if(void 0!==a){if(this.w!=this.o){b=this.a;var c;a:{c=this.c;var d,e;d=0;for(e=c.length;d<e;++d)if(!Nb(b,c[d],this.b,void 0)){c=!1;break a}c=!0}c?this.i=b:(this.i=b.slice(),this.i.length=Pb(this.i,this.c,this.b));this.w=this.o}b=this.i.slice();Pb(b,this.c,this.b,a)}else b=this.a;a=b;b=this.c;c=this.b;d=0;e=[];var f=0,g,h;g=0;for(h=b.length;g<h;++g){var k=b[g];e[f++]=Lb(a,d,k,c,e[f]);d=k[k.length-1]}e.length=f;return e};V.prototype.j=function(){return"MultiPolygon"};
V.prototype.g=function(a,b){if(a){Hb(this,b,a,3);this.a||(this.a=[]);var c=this.a,d=this.b,e=this.c,f=0,e=e?e:[],g=0,h,k;h=0;for(k=a.length;h<k;++h)f=Jb(c,f,a[h],d,e[g]),e[g++]=f,f=f[f.length-1];e.length=g;0===e.length?this.a.length=0:(c=e[e.length-1],this.a.length=0===c.length?0:c[c.length-1])}else c=this.c,F(this,"XY",null),this.c=c;y(this)};
function Ic(a,b){var c=a.f,d=[],e=[],f,g,h;f=0;for(g=b.length;f<g;++f){var k=b[f];0===f&&(c=k.f);var m=d.length;h=k.c;var p,q;p=0;for(q=h.length;p<q;++p)h[p]+=m;ja(d,k.a);e.push(h)}F(a,c,d);a.c=e;y(a)};function Jc(){this.defaultDataProjection=null}t(Jc,Dc);Jc.prototype.l=function(a,b){if(mc(a))return Kc(this,a,b);if(pc(a))return this.L(a,b);if(r(a)){var c=zc(a);return Kc(this,c,b)}return[]};function Kc(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)1==b.nodeType&&ja(d,a.L(b,c));return d}Jc.prototype.c=function(a){return mc(a)?this.f(a):pc(a)?this.G(a):r(a)?(a=zc(a),this.f(a)):null};Jc.prototype.f=function(){return this.defaultDataProjection};Jc.prototype.G=function(){return this.defaultDataProjection};function W(a){a=a?a:{};this.featureType=a.featureType;this.featureNS=a.featureNS;this.srsName=a.srsName;this.schemaLocation="";this.a={};this.a["http://www.opengis.net/gml"]={featureMember:N(W.prototype.D),featureMembers:N(W.prototype.D)};this.defaultDataProjection=null}t(W,Jc);l=W.prototype;
l.D=function(a,b){var c=jc(a),d;if("FeatureCollection"==c)"http://www.opengis.net/wfs"===a.namespaceURI?d=R([],this.a,a,b,this):d=R(null,this.a,a,b,this);else if("featureMembers"==c||"featureMember"==c){var e=b[0],f=e.featureType;d=e.featureNS;var g,h;if(!f&&a.childNodes){f=[];d={};g=0;for(h=a.childNodes.length;g<h;++g){var k=a.childNodes[g];if(1===k.nodeType){var m=k.nodeName.split(":").pop();if(-1===f.indexOf(m)){var p;na(d,k.namespaceURI)?p=oa(d,function(a){return a===k.namespaceURI}):(p="p"+ma(d),
d[p]=k.namespaceURI);f.push(p+":"+m)}}}e.featureType=f;e.featureNS=d}r(d)&&(g=d,d={},d.p0=g);var e={},f=ca(f)?f:[f],q;for(q in d){m={};g=0;for(h=f.length;g<h;++g)(-1===f[g].indexOf(":")?"p0":f[g].split(":")[0])===q&&(m[f[g].split(":").pop()]="featureMembers"==c?M(this.Z,this):N(this.Z,this));e[d[q]]=m}d=R([],e,a,b)}d||(d=[]);return d};l.N=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");var d=R(null,this.la,a,b,this);if(d)return Fc(d,!1,c)};
l.Z=function(a,b){var c,d=a.getAttribute("fid")||tc(a,"http://www.opengis.net/gml","id"),e={},f;for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=jc(c);if(0===c.childNodes.length||1===c.childNodes.length&&(3===c.firstChild.nodeType||4===c.firstChild.nodeType)){var h=fc(c);/^[\s\xa0]*$/.test(h)&&(h=void 0);e[g]=h}else"boundedBy"!==g&&(f=g),e[g]=this.N(c,b)}c=new Xb(e);f&&Yb(c,f);d&&(c.g=d,y(c));return c};l.Ma=function(a,b){var c=this.F(a,b);if(c){var d=new H(null);F(d,"XYZ",c);y(d);return d}};
l.Ia=function(a,b){var c=R([],this.pa,a,b,this);if(c)return new Hc(c)};l.Ha=function(a,b){var c=R([],this.oa,a,b,this);if(c){var d=new U(null);Gc(d,c);return d}};l.Ja=function(a,b){var c=R([],this.qa,a,b,this);if(c){var d=new V(null);Ic(d,c);return d}};l.W=function(a,b){Cc(this.ta,a,b,this)};l.V=function(a,b){Cc(this.ma,a,b,this)};l.X=function(a,b){Cc(this.ua,a,b,this)};l.O=function(a,b){var c=this.F(a,b);if(c){var d=new T(null);F(d,"XYZ",c);y(d);return d}};
l.Ca=function(a,b){var c=R(null,this.K,a,b,this);if(c)return c};l.Fa=function(a,b){var c=this.F(a,b);if(c){var d=new G(null);F(d,"XYZ",c);y(d);return d}};l.P=function(a,b){var c=R([null],this.S,a,b,this);if(c&&c[0]){var d=new I(null),e=c[0],f=[e.length],g,h;g=1;for(h=c.length;g<h;++g)ja(e,c[g]),f.push(e.length);Qb(d,"XYZ",e,f);return d}};l.F=function(a,b){return R(null,this.K,a,b,this)};l.pa=Object({"http://www.opengis.net/gml":{pointMember:M(W.prototype.W),pointMembers:M(W.prototype.W)}});
l.oa=Object({"http://www.opengis.net/gml":{lineStringMember:M(W.prototype.V),lineStringMembers:M(W.prototype.V)}});l.qa=Object({"http://www.opengis.net/gml":{polygonMember:M(W.prototype.X),polygonMembers:M(W.prototype.X)}});l.ta=Object({"http://www.opengis.net/gml":{Point:M(W.prototype.F)}});l.ma=Object({"http://www.opengis.net/gml":{LineString:M(W.prototype.O)}});l.ua=Object({"http://www.opengis.net/gml":{Polygon:M(W.prototype.P)}});l.T=Object({"http://www.opengis.net/gml":{LinearRing:N(W.prototype.Ca)}});
l.L=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};b&&sa(c,Ec(this,a,b));return this.D(a,[c])};l.G=function(a){return D(this.h?this.h:a.firstElementChild.getAttribute("srsName"))};function Lc(a){a=fc(a);return Mc(a)}function Mc(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function X(a,b){a.appendChild(bc.createTextNode(b))};function Y(a){a=a?a:{};W.call(this,a);this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}t(Y,W);l=Y.prototype;l.Ga=function(a,b){var c=R([],this.na,a,b,this);if(c){var d=new U(null);Gc(d,c);return d}};l.Ka=function(a,b){var c=R([],this.ra,a,b,this);if(c){var d=new V(null);Ic(d,c);return d}};l.U=function(a,b){Cc(this.ia,a,b,this)};l.aa=function(a,b){Cc(this.xa,a,b,this)};
l.La=function(a,b){return R([null],this.sa,a,b,this)};l.Oa=function(a,b){return R([null],this.wa,a,b,this)};l.Na=function(a,b){return R([null],this.S,a,b,this)};l.Ea=function(a,b){return R([null],this.K,a,b,this)};l.Aa=function(a,b){var c=R(void 0,this.T,a,b,this);c&&b[b.length-1].push(c)};l.za=function(a,b){var c=R(void 0,this.T,a,b,this);c&&(b[b.length-1][0]=c)};
l.$=function(a,b){var c=R([null],this.ya,a,b,this);if(c&&c[0]){var d=new I(null),e=c[0],f=[e.length],g,h;g=1;for(h=c.length;g<h;++g)ja(e,c[g]),f.push(e.length);Qb(d,"XYZ",e,f);return d}};l.Y=function(a,b){var c=R([null],this.ja,a,b,this);if(c){var d=new T(null);F(d,"XYZ",c);y(d);return d}};l.Ba=function(a,b){var c=R([null],this.ka,a,b,this);return nb(c[1][0],c[1][1],c[2][0],c[2][1])};
l.Da=function(a,b){for(var c=fc(a),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,e=[],f;f=d.exec(c);)e.push(parseFloat(f[1])),c=c.substr(f[0].length);if(""===c){c=b[0].srsName;d="enu";c&&(d=xb(D(c)));if("neu"===d)for(c=0,d=e.length;c<d;c+=3)f=e[c],e[c]=e[c+1],e[c+1]=f;c=e.length;2==c&&e.push(0);return 0===c?void 0:e}};
l.M=function(a,b){var c=fc(a).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(f=xb(D(d)));c=c.split(/\s+/);d=2;a.getAttribute("srsDimension")?d=Mc(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=Mc(a.getAttribute("dimension")):e&&(d=Mc(e));for(var g,h,k=[],m=0,p=c.length;m<p;m+=d)e=parseFloat(c[m]),g=parseFloat(c[m+1]),h=3===d?parseFloat(c[m+2]):0,"en"===f.substr(0,2)?k.push(e,g,h):k.push(g,e,h);return k};
l.K=Object({"http://www.opengis.net/gml":{pos:N(Y.prototype.Da),posList:N(Y.prototype.M)}});l.S=Object({"http://www.opengis.net/gml":{interior:Y.prototype.Aa,exterior:Y.prototype.za}});
l.la=Object({"http://www.opengis.net/gml":{Point:N(W.prototype.Ma),MultiPoint:N(W.prototype.Ia),LineString:N(W.prototype.O),MultiLineString:N(W.prototype.Ha),LinearRing:N(W.prototype.Fa),Polygon:N(W.prototype.P),MultiPolygon:N(W.prototype.Ja),Surface:N(Y.prototype.$),MultiSurface:N(Y.prototype.Ka),Curve:N(Y.prototype.Y),MultiCurve:N(Y.prototype.Ga),Envelope:N(Y.prototype.Ba)}});l.na=Object({"http://www.opengis.net/gml":{curveMember:M(Y.prototype.U),curveMembers:M(Y.prototype.U)}});
l.ra=Object({"http://www.opengis.net/gml":{surfaceMember:M(Y.prototype.aa),surfaceMembers:M(Y.prototype.aa)}});l.ia=Object({"http://www.opengis.net/gml":{LineString:M(W.prototype.O),Curve:M(Y.prototype.Y)}});l.xa=Object({"http://www.opengis.net/gml":{Polygon:M(W.prototype.P),Surface:M(Y.prototype.$)}});l.ya=Object({"http://www.opengis.net/gml":{patches:N(Y.prototype.La)}});l.ja=Object({"http://www.opengis.net/gml":{segments:N(Y.prototype.Oa)}});
l.ka=Object({"http://www.opengis.net/gml":{lowerCorner:M(Y.prototype.M),upperCorner:M(Y.prototype.M)}});l.sa=Object({"http://www.opengis.net/gml":{PolygonPatch:N(Y.prototype.Na)}});l.wa=Object({"http://www.opengis.net/gml":{LineStringSegment:N(Y.prototype.Ea)}});function Nc(a,b,c){c=c[c.length-1].srsName;b=b.h();for(var d=b.length,e=Array(d),f,g=0;g<d;++g){f=b[g];var h=g,k="enu";c&&(k=xb(D(c)));e[h]="en"===k.substr(0,2)?f[0]+" "+f[1]:f[1]+" "+f[0]}X(a,e.join(" "))}
l.fa=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=L(a.namespaceURI,"pos");a.appendChild(d);c=c[c.length-1].srsName;a="enu";c&&(a=xb(D(c)));b=b.h();X(d,"en"===a.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0])};var Oc={"http://www.opengis.net/gml":{lowerCorner:O(X),upperCorner:O(X)}};l=Y.prototype;l.Ua=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);S({node:a},Oc,Bc,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};
l.ca=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=L(a.namespaceURI,"posList");a.appendChild(d);Nc(d,b,c)};l.va=function(a,b){var c=b[b.length-1],d=c.node,e=c.exteriorWritten;void 0===e&&(c.exteriorWritten=!0);return L(d.namespaceURI,void 0!==e?"interior":"exterior")};
l.J=function(a,b,c){var d=c[c.length-1].srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);if("Polygon"===a.nodeName||"PolygonPatch"===a.nodeName){var e=b.f,f=b.a;b=b.c;var g=[],h=0,k,m;k=0;for(m=b.length;k<m;++k){var p=b[k],q=new G(null),K=q;F(K,e,f.slice(h,p));y(K);g.push(q);h=p}S({node:a,srsName:d},Pc,this.va,g,c,void 0,this)}else"Surface"===a.nodeName&&(d=L(a.namespaceURI,"patches"),a.appendChild(d),a=L(d.namespaceURI,"PolygonPatch"),d.appendChild(a),this.J(a,b,c))};
l.I=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=L(a.namespaceURI,"posList"),a.appendChild(d),Nc(d,b,c)):"Curve"===a.nodeName&&(d=L(a.namespaceURI,"segments"),a.appendChild(d),a=L(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.I(a,b,c))};
l.ea=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.surface;e&&a.setAttribute("srsName",e);var f=b.f,g=b.a;b=b.c;var h=[],k=0,m,p,q,K;m=0;for(p=b.length;m<p;++m){var Q=b[m].slice(),cc=Q[Q.length-1];if(0!==k)for(q=0,K=Q.length;q<K;++q)Q[q]-=k;q=new I(null);Qb(q,f,g.slice(k,cc),Q);h.push(q);k=cc}S({node:a,srsName:e,surface:d},Qc,this.g,h,c,void 0,this)};
l.Va=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);var e=b.a,f=b.f;b=b.b;var g=[],h,k;h=0;for(k=e.length;h<k;h+=b){var m=new H(null),p=m;F(p,f,e.slice(h,h+b));y(p);g.push(m)}S({node:a,srsName:d},Rc,P("pointMember"),g,c,void 0,this)};
l.da=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.curve;e&&a.setAttribute("srsName",e);var f=b.a,g=b.c;b=b.f;var h=[],k=0,m,p;m=0;for(p=g.length;m<p;++m){var q=g[m],K=new T(null),Q=K;F(Q,b,f.slice(k,q));y(Q);h.push(K);k=q}S({node:a,srsName:e,curve:d},Sc,this.g,h,c,void 0,this)};l.ga=function(a,b,c){var d=L(a.namespaceURI,"LinearRing");a.appendChild(d);this.ca(d,b,c)};l.ha=function(a,b,c){var d=this.b(b,c);d&&(a.appendChild(d),this.J(d,b,c))};
l.Wa=function(a,b,c){var d=L(a.namespaceURI,"Point");a.appendChild(d);this.fa(d,b,c)};l.ba=function(a,b,c){var d=this.b(b,c);d&&(a.appendChild(d),this.I(d,b,c))};l.R=function(a,b,c){var d=c[c.length-1],e=pa(d);e.node=a;ca(b)?d.dataProjection&&(a=Db(d.featureProjection,d.dataProjection),b=ob(b,a)):b=Fc(b,!0,d);S(e,Tc,this.b,[b],c,void 0,this)};
var Qc={"http://www.opengis.net/gml":{surfaceMember:O(Y.prototype.ha),polygonMember:O(Y.prototype.ha)}},Rc={"http://www.opengis.net/gml":{pointMember:O(Y.prototype.Wa)}},Sc={"http://www.opengis.net/gml":{lineStringMember:O(Y.prototype.ba),curveMember:O(Y.prototype.ba)}},Pc={"http://www.opengis.net/gml":{exterior:O(Y.prototype.ga),interior:O(Y.prototype.ga)}},Tc={"http://www.opengis.net/gml":{Curve:O(Y.prototype.I),MultiCurve:O(Y.prototype.da),Point:O(Y.prototype.fa),MultiPoint:O(Y.prototype.Va),LineString:O(Y.prototype.I),
MultiLineString:O(Y.prototype.da),LinearRing:O(Y.prototype.ca),Polygon:O(Y.prototype.J),MultiPolygon:O(Y.prototype.ea),Surface:O(Y.prototype.J),MultiSurface:O(Y.prototype.ea),Envelope:O(Y.prototype.Ua)}},Uc={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Y.prototype.g=function(a,b){return L("http://www.opengis.net/gml",Uc[b[b.length-1].node.nodeName])};
Y.prototype.b=function(a,b){var c=b[b.length-1],d=c.multiSurface,e=c.surface,f=c.curve,c=c.multiCurve,g;ca(a)?g="Envelope":(g=a.j(),"MultiPolygon"===g&&!0===d?g="MultiSurface":"Polygon"===g&&!0===e?g="Surface":"LineString"===g&&!0===f?g="Curve":"MultiLineString"===g&&!0===c&&(g="MultiCurve"));return L("http://www.opengis.net/gml",g)};function Z(a){a=a?a:{};this.h=a.featureType;this.b=a.featureNS;this.a=a.gmlFormat?a.gmlFormat:new Y;this.g=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd";this.defaultDataProjection=null}t(Z,Jc);Z.prototype.L=function(a,b){var c={featureType:this.h,featureNS:this.b};sa(c,Ec(this,a,b?b:{}));c=[c];this.a.a["http://www.opengis.net/gml"].featureMember=M(W.prototype.D);(c=R([],this.a.a,a,c,this.a))||(c=[]);return c};
Z.prototype.i=function(a){if(mc(a))return Vc(a);if(pc(a))return R({},Wc,a,[]);if(r(a))return a=zc(a),Vc(a)};Z.prototype.j=function(a){if(mc(a))return Xc(this,a);if(pc(a))return Yc(this,a);if(r(a))return a=zc(a),Xc(this,a)};function Xc(a,b){for(var c=b.firstChild;c;c=c.nextSibling)if(1==c.nodeType)return Yc(a,c)}var Zc={"http://www.opengis.net/gml":{boundedBy:Ac(W.prototype.N,"bounds")}};
function Yc(a,b){var c={},d=Mc(b.getAttribute("numberOfFeatures"));c.numberOfFeatures=d;return R(c,Zc,b,[],a.a)}
var $c={"http://www.opengis.net/wfs":{totalInserted:Ac(Lc),totalUpdated:Ac(Lc),totalDeleted:Ac(Lc)}},ad={"http://www.opengis.net/ogc":{FeatureId:M(function(a){return a.getAttribute("fid")})}},bd={"http://www.opengis.net/wfs":{Feature:function(a,b){Cc(ad,a,b)}}},Wc={"http://www.opengis.net/wfs":{TransactionSummary:Ac(function(a,b){return R({},$c,a,b)},"transactionSummary"),InsertResults:Ac(function(a,b){return R([],bd,a,b)},"insertIds")}};
function Vc(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return R({},Wc,a,[])}var cd={"http://www.opengis.net/wfs":{PropertyName:O(X)}};function dd(a,b){var c=L("http://www.opengis.net/ogc","Filter"),d=L("http://www.opengis.net/ogc","FeatureId");c.appendChild(d);d.setAttribute("fid",b);a.appendChild(c)}
var ed={"http://www.opengis.net/wfs":{Insert:O(function(a,b,c){var d=c[c.length-1],d=L(d.featureNS,d.featureType);a.appendChild(d);a=Y.prototype;var e=b.g;e&&d.setAttribute("fid",e);var e=c[c.length-1],f=e.featureNS,g=b.a;e.s||(e.s={},e.s[f]={});var h=lb(b);b=[];var k=[],m;for(m in h){var p=h[m];null!==p&&(b.push(m),k.push(p),m==g||p instanceof Fb?m in e.s[f]||(e.s[f][m]=O(a.R,a)):m in e.s[f]||(e.s[f][m]=O(X)))}m=pa(e);m.node=d;S(m,e.s,P(void 0,f),k,c,b)}),Update:O(function(a,b,c){var d=c[c.length-
1],e=d.featureType,f=d.featurePrefix,f=f?f:"feature",g=d.featureNS;a.setAttribute("typeName",f+":"+e);yc(a,"http://www.w3.org/2000/xmlns/","xmlns:"+f,g);if(e=b.g){for(var f=Object.keys(b.l),g=[],h=0,k=f.length;h<k;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],value:m})}S({node:a,srsName:d.srsName},ed,P("Property"),g,c);dd(a,e)}}),Delete:O(function(a,b,c){var d=c[c.length-1];c=d.featureType;var e=d.featurePrefix,e=e?e:"feature",d=d.featureNS;a.setAttribute("typeName",e+":"+c);yc(a,"http://www.w3.org/2000/xmlns/",
"xmlns:"+e,d);(b=b.g)&&dd(a,b)}),Property:O(function(a,b,c){var d=L("http://www.opengis.net/wfs","Name");a.appendChild(d);X(d,b.name);void 0!==b.value&&null!==b.value&&(d=L("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof Fb?Y.prototype.R(d,b.value,c):X(d,b.value))}),Native:O(function(a,b){b.Sa&&a.setAttribute("vendorId",b.Sa);void 0!==b.Pa&&a.setAttribute("safeToIgnore",b.Pa);void 0!==b.value&&X(a,b.value)})}},fd={"http://www.opengis.net/wfs":{Query:O(function(a,b,c){var d=
c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",(e?e+":":"")+b);h&&a.setAttribute("srsName",h);f&&yc(a,"http://www.w3.org/2000/xmlns/","xmlns:"+e,f);b=pa(d);b.node=a;S(b,cd,P("PropertyName"),g,c);if(d=d.bbox)g=L("http://www.opengis.net/ogc","Filter"),b=c[c.length-1].geometryName,e=L("http://www.opengis.net/ogc","BBOX"),g.appendChild(e),f=L("http://www.opengis.net/ogc","PropertyName"),X(f,b),e.appendChild(f),Y.prototype.R(e,d,c),a.appendChild(g)})}};
Z.prototype.o=function(a){var b=L("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS");b.setAttribute("version","1.1.0");a&&(a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count));yc(b,"http://www.w3.org/2001/XMLSchema-instance",
"xsi:schemaLocation",this.g);var c=a.featureTypes;a=[{node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.b,featurePrefix:a.featurePrefix,geometryName:a.geometryName,bbox:a.bbox,propertyNames:a.propertyNames?a.propertyNames:[]}];var d=pa(a[a.length-1]);d.node=b;S(d,fd,P("Query"),c,a);return b};
Z.prototype.H=function(a,b,c,d){var e=[],f=L("http://www.opengis.net/wfs","Transaction");f.setAttribute("service","WFS");f.setAttribute("version","1.1.0");var g,h;d&&(g=d.gmlOptions?d.gmlOptions:{},d.handle&&f.setAttribute("handle",d.handle));yc(f,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.g);a&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix},sa(h,g),S(h,ed,P("Insert"),a,e));b&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,
featurePrefix:d.featurePrefix},sa(h,g),S(h,ed,P("Update"),b,e));c&&S({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix},ed,P("Delete"),c,e);d.nativeElements&&S({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix},ed,P("Native"),d.nativeElements,e);return f};Z.prototype.f=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType)return this.G(a);return null};
Z.prototype.G=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];this.a.N(a,b);return D(b.pop().srsName)}return null};aa("ol.format.WFS",Z,OPENLAYERS);Z.prototype.readFeatures=Z.prototype.l;Z.prototype.readTransactionResponse=Z.prototype.i;Z.prototype.readFeatureCollectionMetadata=Z.prototype.j;Z.prototype.writeGetFeature=Z.prototype.o;Z.prototype.writeTransaction=Z.prototype.H;Z.prototype.readProjection=Z.prototype.c;
  return OPENLAYERS.ol;
}));

